# Описание структуры базы данных

## Таблица `steel_grades`

| Поле   | Значение           | Описание                              |
|--------|--------------------|---------------------------------------|
| `id`   | SERIAL PRIMARY KEY | Уникальный идентификатор марки стали. |
| `name` | VARCHAR(50) UNIQUE | Название марки стали, уникальное.     |

---

## Таблица `orders`

| Поле           | Значение                                      | Описание                                        |
|----------------|-----------------------------------------------|-------------------------------------------------|
| `id`           | SERIAL PRIMARY KEY                            | Уникальный идентификатор заказа.                |
| `order_number` | VARCHAR(50) UNIQUE                            | Номер заказа, уникальное.                       |
| `manufacturer` | VARCHAR(50)                                   | Название производителя.                         |
| `start_date`   | DATE                                          | Дата начала выполнения заказа.                  |
| `end_date`     | DATE                                          | Дата завершения выполнения заказа.              |
| `status`       | VARCHAR(20) CHECK (новый, в работе, выполнен) | Статус заказа: `новый`, `в работе`, `выполнен`. |

---

## Таблица `positions`

| Поле              | Значение                                       | Описание                                                                |
|-------------------|------------------------------------------------|-------------------------------------------------------------------------|
| `id`              | SERIAL PRIMARY KEY                             | Уникальный идентификатор позиции.                                       |
| `order_id`        | INT REFERENCES orders(id) ON DELETE CASCADE    | Ссылка на заказ. Удаление заказа приводит к удалению связанных позиций. |
| `position_number` | INT                                            | Номер позиции в заказе.*                                                |
| `steel_grade_id`  | INT REFERENCES steel_grades(id)                | Ссылка на марку стали.                                                  |
| `diameter`        | NUMERIC(10, 2)                                 | Диаметр изделия.                                                        |
| `wall_thickness`  | NUMERIC(10, 2)                                 | Толщина стенки изделия.                                                 |
| `volume`          | NUMERIC(10, 2)                                 | Объем изделия.                                                          |
| `unit`            | VARCHAR(20)                                    | Единица измерения объема.                                               |
| `status`          | VARCHAR(20) CHECK (новая, в работе, выполнена) | Статус позиции: `новая`, `в работе`, `выполнена`.                       |

#### * Номер позиции уникален в пределах одного заказа
